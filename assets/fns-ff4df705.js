const i=(e,a)=>e/100*a,r=(e,a)=>Math.abs(Math.round((e/a-1)*1e4)/1e4)*100,P=(e,a,c)=>e*a-c*a,k=e=>{if(!e.mode)return{};switch(e.leveragedCapital=e.capital*e.leverage,e.totalUnits=e.leveragedCapital/e.entryPrice,e.calcTakeProfit=e.entryPrice,e.takeProfitOptions){case"percentage":e.calcTakeProfit=e.mode==="long"?e.calcTakeProfit+i(e.takeProfit,e.entryPrice):e.calcTakeProfit-i(e.takeProfit,e.entryPrice);break;case"addMinusValue":e.calcTakeProfit=e.mode==="long"?e.entryPrice+e.takeProfit:e.entryPrice-e.takeProfit;break;default:e.calcTakeProfit=e.takeProfit}switch(e.calcStopLoss=e.entryPrice,e.stopLossOptions){case"percentage":e.calcStopLoss=e.mode==="long"?e.calcStopLoss-i(e.stopLoss,e.entryPrice):e.calcStopLoss+i(e.stopLoss,e.entryPrice);break;case"addMinusValue":e.calcStopLoss=e.mode==="long"?e.calcStopLoss-e.stopLoss:e.calcStopLoss+e.stopLoss;break;default:e.calcStopLoss=e.stopLoss}return e.mode==="long"?e.calcStopLoss=e.calcStopLoss<0?0:e.calcStopLoss:e.mode==="short"&&(e.calcTakeProfit=e.calcTakeProfit<0?0:e.calcTakeProfit),e.takeProfitChangePercent=r(e.calcTakeProfit,e.entryPrice),e.takeProfitChangeValue=e.calcTakeProfit-e.entryPrice,e.stopLossChangePercent=r(e.calcStopLoss,e.entryPrice),e.stopLossChangeValue=e.calcStopLoss-e.entryPrice,e.profit=P(e.mode==="long"?e.calcTakeProfit:e.entryPrice,e.totalUnits,e.mode==="long"?e.entryPrice:e.calcTakeProfit),e.loss=P(e.mode==="long"?e.calcStopLoss:e.entryPrice,e.totalUnits,e.mode==="long"?e.entryPrice:e.calcStopLoss),e.calcTakeProfitBalance=e.capital+e.profit,e.calcStopLossBalance=e.capital-Math.abs(e.loss),e.calcTakeProfitROE=r(e.calcTakeProfitBalance,e.capital),e.calcStopLossROE=r(e.calcStopLossBalance,e.capital),e.calcLossTable=f(e.capital,e.entryPrice,e.leverage,e.mode),e},f=(e,a,c,p)=>{const n=[];let s=0,t=0;for(let l=.1;l<=1&&(s=e*l,p==="long"?t=(c*a-s)/c:t=(c*a+s)/c,!(t<0));l+=.1)n.push({unitPrice:t,priceChange:Math.abs(t-a),priceChangePercent:r(t,a),risk:l*100,capitalChange:s});return n},g=e=>{window.getSelection().selectAllChildren(e.target)};export{k as performObjCalcs,g as selectHighlight};
